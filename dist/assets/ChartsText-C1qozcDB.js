import{F as W,G,H as K,T as Z,r as f,I as Q,i as X,c as _,j as I,E as J,s as tt,_ as j}from"./index-Cj1bwJRe.js";function et(e){const{theme:t,name:s,props:n}=e;return!t||!t.components||!t.components[s]||!t.components[s].defaultProps?n:W(t.components[s].defaultProps,n)}function nt({props:e,name:t,defaultTheme:s,themeId:n}){let i=G(s);return n&&(i=i[n]||i),et({theme:i,name:t,props:e})}function st({props:e,name:t}){return nt({props:e,name:t,defaultTheme:K,themeId:Z})}const Tt=(e,t,s)=>{const n=f.useRef({displayError:!1,initialCompute:!0,computeRun:0}),i=f.useRef(null),[r,c]=f.useState(0),[l,m]=f.useState(0),h=f.useCallback(()=>{const o=i==null?void 0:i.current;if(!o)return{};const d=Q(o).getComputedStyle(o),u=Math.floor(parseFloat(d.height))||0,g=Math.floor(parseFloat(d.width))||0;return c(g),m(u),{width:g,height:u}},[]);return f.useEffect(()=>{n.current.displayError=!0},[]),X(()=>{if(!s||!n.current.initialCompute||n.current.computeRun>20)return;const o=h();o.width!==r||o.height!==l?n.current.computeRun+=1:n.current.initialCompute&&(n.current.initialCompute=!1)},[r,l,h,s]),X(()=>{if(e!==void 0&&t!==void 0)return()=>{};h();const o=i.current;if(typeof ResizeObserver>"u")return()=>{};let a;const d=new ResizeObserver(()=>{a=requestAnimationFrame(()=>{h()})});return o&&d.observe(o),()=>{a&&cancelAnimationFrame(a),o&&d.unobserve(o)}},[h,t,e]),{containerRef:i,width:e??r,height:t??l}},F=f.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),it=(e,t)=>{switch(t.type){case"enterItem":return _({},e,{item:t.data});case"exitChart":return e.item===null&&e.axis.x===null&&e.axis.y===null?e:_({},e,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return _({},e,{useVoronoiInteraction:t.useVoronoiInteraction});case"leaveItem":return e.item===null||Object.keys(t.data).some(s=>t.data[s]!==e.item[s])?e:_({},e,{item:null});case"updateAxis":return t.data.x===e.axis.x&&t.data.y===e.axis.y?e:_({},e,{axis:t.data});default:return e}};function Pt(e){const{children:t}=e,[s,n]=f.useReducer(it,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),i=f.useMemo(()=>_({},s,{dispatch:n}),[s]);return I.jsx(F.Provider,{value:i,children:t})}function rt(e){return e.bandwidth!==void 0}const St="DEFAULT_X_AXIS_KEY",Lt="DEFAULT_Y_AXIS_KEY",at={top:50,bottom:50,left:50,right:50},ot=(e,t,s)=>{const n=_({},at,s);return f.useMemo(()=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}),[e,t,n.top,n.bottom,n.left,n.right])},N=f.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),U=f.createContext({isInitialized:!1,data:{current:null}});function Rt(e){const{width:t,height:s,margin:n,svgRef:i,children:r}=e,c=ot(t,s,n),l=J(),m=f.useCallback(({x:a,y:d},u)=>{if(u!=null&&u.targetElement&&(u!=null&&u.targetElement.closest("[data-drawing-container]")))return!0;const g=a>=c.left-1&&a<=c.left+c.width,w=d>=c.top-1&&d<=c.top+c.height;return(u==null?void 0:u.direction)==="x"?g:((u==null?void 0:u.direction)==="y"||g)&&w},[c]),h=f.useMemo(()=>_({chartId:l??""},c,{isPointInside:m}),[l,c,m]),o=f.useMemo(()=>({isInitialized:!0,data:i}),[i]);return I.jsx(U.Provider,{value:o,children:I.jsx(N.Provider,{value:h,children:r})})}function ct(){const{left:e,top:t,width:s,height:n,bottom:i,right:r,isPointInside:c}=f.useContext(N);return f.useMemo(()=>({left:e,top:t,width:s,height:n,bottom:i,right:r,isPointInside:c}),[n,e,t,s,i,r,c])}function jt(e){return function(){return e}}const Dt=Math.abs,zt=Math.atan2,Bt=Math.cos,Xt=Math.max,Yt=Math.min,kt=Math.sin,Ft=Math.sqrt,Nt=1e-12,B=Math.PI,Y=B/2,Ut=2*B;function Ot(e){return e>1?0:e<-1?B:Math.acos(e)}function qt(e){return e>=1?Y:e<=-1?-Y:Math.asin(e)}const D=Math.PI,z=2*D,b=1e-6,ut=z-b;function O(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function ht(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return O;const s=10**t;return function(n){this._+=n[0];for(let i=1,r=n.length;i<r;++i)this._+=Math.round(arguments[i]*s)/s+n[i]}}class dt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?O:ht(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,n,i){this._append`Q${+t},${+s},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,s,n,i,r,c){this._append`C${+t},${+s},${+n},${+i},${this._x1=+r},${this._y1=+c}`}arcTo(t,s,n,i,r){if(t=+t,s=+s,n=+n,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let c=this._x1,l=this._y1,m=n-t,h=i-s,o=c-t,a=l-s,d=o*o+a*a;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(d>b)if(!(Math.abs(a*m-h*o)>b)||!r)this._append`L${this._x1=t},${this._y1=s}`;else{let u=n-c,g=i-l,w=m*m+h*h,$=u*u+g*g,C=Math.sqrt(w),p=Math.sqrt(d),x=r*Math.tan((D-Math.acos((w+d-$)/(2*C*p)))/2),A=x/p,M=x/C;Math.abs(A-1)>b&&this._append`L${t+A*o},${s+A*a}`,this._append`A${r},${r},0,0,${+(a*u>o*g)},${this._x1=t+M*m},${this._y1=s+M*h}`}}arc(t,s,n,i,r,c){if(t=+t,s=+s,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),m=n*Math.sin(i),h=t+l,o=s+m,a=1^c,d=c?i-r:r-i;this._x1===null?this._append`M${h},${o}`:(Math.abs(this._x1-h)>b||Math.abs(this._y1-o)>b)&&this._append`L${h},${o}`,n&&(d<0&&(d=d%z+z),d>ut?this._append`A${n},${n},0,1,${a},${t-l},${s-m}A${n},${n},0,1,${a},${this._x1=h},${this._y1=o}`:d>b&&this._append`A${n},${n},0,${+(d>=D)},${a},${this._x1=t+n*Math.cos(r)},${this._y1=s+n*Math.sin(r)}`)}rect(t,s,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Vt(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const n=Math.floor(s);if(!(n>=0))throw new RangeError(`invalid digits: ${s}`);t=n}return e},()=>new dt(t)}const lt=f.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}}),ft=()=>{const{data:e}=f.useContext(lt);return e};function mt(e,t){const s=e.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s.matrixTransform(e.getScreenCTM().inverse())}function pt(){const{isInitialized:e,data:t}=f.useContext(U);if(!e)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join(`
`));return t}function v(e){return e instanceof Date?e.getTime():e}const xt=e=>{const t=pt(),s=ct(),{xAxis:n,yAxis:i,xAxisIds:r,yAxisIds:c}=ft(),{dispatch:l}=f.useContext(F),m=r[0],h=c[0],o=f.useRef({isInChart:!1,x:-1,y:-1});f.useEffect(()=>{const a=t.current;if(a===null||e)return()=>{};function d($,C){const{scale:p,data:x,reverse:A}=$;if(!rt(p)){const y=p.invert(C);if(x===void 0)return{value:y,index:-1};const T=v(y),P=x==null?void 0:x.findIndex((H,S)=>{const L=v(H);return L>T&&(S===0||Math.abs(T-L)<=Math.abs(T-v(x[S-1])))||L<=T&&(S===x.length-1||Math.abs(v(y)-L)<Math.abs(v(y)-v(x[S+1])))});return{value:P!==void 0&&P>=0?x[P]:y,index:P}}const M=p.bandwidth()===0?Math.floor((C-Math.min(...p.range())+p.step()/2)/p.step()):Math.floor((C-Math.min(...p.range()))/p.step());if(M<0||M>=x.length)return null;if(A){const y=x.length-1-M;return{index:y,value:x[y]}}return{index:M,value:x[M]}}const u=()=>{o.current={isInChart:!1,x:-1,y:-1},l({type:"exitChart"})},g=$=>{const C="targetTouches"in $?$.targetTouches[0]:$,p=mt(a,C);if(o.current.x=p.x,o.current.y=p.y,!s.isPointInside(p,{targetElement:$.target})){o.current.isInChart&&(l({type:"exitChart"}),o.current.isInChart=!1);return}o.current.isInChart=!0;const x=d(n[m],p.x),A=d(i[h],p.y);l({type:"updateAxis",data:{x,y:A}})},w=$=>{const C=$.currentTarget;C&&C.hasPointerCapture($.pointerId)&&C.releasePointerCapture($.pointerId)};return a.addEventListener("pointerdown",w),a.addEventListener("pointermove",g),a.addEventListener("pointerout",u),a.addEventListener("pointercancel",u),a.addEventListener("pointerleave",u),()=>{a.removeEventListener("pointerdown",w),a.removeEventListener("pointermove",g),a.removeEventListener("pointerout",u),a.removeEventListener("pointercancel",u),a.removeEventListener("pointerleave",u)}},[t,l,h,i,m,n,e,s])},gt=["children","width","height","viewBox","disableAxisListener","className","title","desc"],_t=tt("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),Ht=f.forwardRef(function(t,s){const n=st({props:t,name:"MuiChartsSurface"}),{children:i,width:r,height:c,viewBox:l,disableAxisListener:m=!1,className:h,title:o,desc:a}=n,d=j(n,gt),u=_({width:r,height:c,x:0,y:0},l);return xt(m),I.jsxs(_t,_({width:r,height:c,viewBox:`${u.x} ${u.y} ${u.width} ${u.height}`,ref:s,className:h},d,{children:[I.jsx("title",{children:o}),I.jsx("desc",{children:a}),i]}))});function $t(){return typeof window>"u"}const E={widthCache:{},cacheCount:0},Ct=2e3,wt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mt=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],k="mui_measurement_span";function q(e,t){return Mt.indexOf(e)>=0&&t===+t?`${t}px`:t}function V(e){return e.split("").reduce((n,i)=>i===i.toUpperCase()?[...n,"-",i.toLowerCase()]:[...n,i],[]).join("")}const yt=e=>Object.keys(e).sort().reduce((t,s)=>`${t}${V(s)}:${q(s,e[s])};`,"");let R;const It=(e,t={})=>{if(e==null||$t())return{width:0,height:0};const s=`${e}`,n=yt(t),i=`${s}-${n}`;if(E.widthCache[i])return E.widthCache[i];try{let r=document.getElementById(k);r===null&&(r=document.createElement("span"),r.setAttribute("id",k),r.setAttribute("aria-hidden","true"),document.body.appendChild(r));const c=_({},wt,t);Object.keys(c).map(h=>(r.style[V(h)]=q(h,c[h]),h)),r.textContent=s;const l=r.getBoundingClientRect(),m={width:l.width,height:l.height};return E.widthCache[i]=m,E.cacheCount+1>Ct?(E.cacheCount=0,E.widthCache={}):E.cacheCount+=1,R&&clearTimeout(R),R=setTimeout(()=>{r.textContent=""},0),m}catch{return{width:0,height:0}}};function At({style:e,needsComputation:t,text:s}){return s.split(`
`).map(n=>_({text:n},t?It(n,e):{width:0,height:0}))}const Et=["x","y","style","text","ownerState"],bt=["angle","textAnchor","dominantBaseline"];function Wt(e){const{x:t,y:s,style:n,text:i}=e,r=j(e,Et),c=n??{},{angle:l,textAnchor:m,dominantBaseline:h}=c,o=j(c,bt),a=f.useMemo(()=>At({style:o,needsComputation:i.includes(`
`),text:i}),[o,i]);let d;switch(h){case"hanging":d=0;break;case"central":d=(a.length-1)/2*-a[0].height;break;default:d=(a.length-1)*-a[0].height;break}const u=[];return l&&u.push(`rotate(${l}, ${t}, ${s})`),I.jsx("text",_({},r,{transform:u.length>0?u.join(" "):void 0,x:t,y:s,textAnchor:m,dominantBaseline:h,style:o,children:a.map((g,w)=>I.jsx("tspan",{x:t,dy:`${w===0?d:a[0].height}px`,dominantBaseline:h,children:g.text},w))}))}export{pt as A,F as B,Ht as C,Rt as D,Pt as I,Tt as a,Wt as b,st as c,N as d,St as e,Bt as f,jt as g,Y as h,Nt as i,Ft as j,Dt as k,zt as l,Yt as m,qt as n,Ot as o,B as p,Xt as q,rt as r,kt as s,Ut as t,ct as u,lt as v,Vt as w,ft as x,Lt as y,At as z};
